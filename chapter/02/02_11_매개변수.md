# **함수의 입력값, 매개변수**

>“작은 일들을 잘하면, 큰 일도 쉬워진다.” — 존 우든

우리가 작성하는 함수는 기본적으로 입력(input)에 해당하는 매개변수(parameter)와
출력(output)에 해당하는 반환값(return)으로 구성된다. 이번 장에서는 함수의 매개변수(parameter)에 대해 좀더 깊이 있게 알아보자.


## 다양한 매개변수를 정의하는 방법
dart에서 함수에 매개변수를(입력) 받도록 작성했다면 이는 기본적으로 호출시 반드시 넘겨야 하는 필수값으로 지정된다.

```dart
void sayHello(String message){ // 매개변수를 받도록 정의하면
  print(message);
}

sayHello('안녕하세요'); //반드시 넘겨줘야 한다.
```

Dart는 다른 언어에 비해 매개변수를 더 유연하게 정의할 수 있는 특수한 문법을 제공한다. 다른 언어에 익숙하다면 조금 헷갈릴 수 있는 부분이라고 생각한다. 아래는 Dart에서 매개변수를 정의하는 다양한 방법을 정리한 표이다.

<table> <thead> <tr> <th><strong>구분</strong></th> <th><strong>문법</strong></th> <th><strong>설명</strong></th> </tr> </thead> <tbody> <tr> <td><strong>필수 매개변수</strong></td> <td><code>String message</code></td> <td>반드시 값을 전달해야 합니다</td> </tr> <tr> <td><strong>선택적 위치 매개변수</strong></td> <td><code>[String message]</code></td> <td>생략 가능하며, 순서대로 전달</td> </tr> <tr> <td><strong>선택적 이름 매개변수</strong></td> <td><code>{String? message}</code></td> <td>이름을 지정해 전달, 순서 무관</td> </tr> <tr> <td><strong>기본값 설정</strong></td> <td><code>{String message = 'default'}</code></td> <td>값을 전달하지 않으면 기본값 사용</td> </tr> <tr> <td><strong>이름이 있으면서 필수</strong></td> <td><code>{required String message}</code></td> <td>이름을 지정하면서도 반드시 전달</td> </tr> </tbody> </table>


## 선택적 매개변수
함수의 매개변수를 정의할 때, 중괄호 { } 또는 대괄호 [ ] 를 이용하면 선택적 매개변수(Optional Parameter) 로 지정할 수 있다. 이 매개변수들은 말그대로 선택할수 있는 옵션이다. 즉, 함수를 호출할 때 반드시 값을 전달하지 않아도 된다는 의미이다. Dart는 두 가지 방식의 선택적 매개변수를 제공한다.

### 선택적 명명(이름기반) 매개변수({ }사용)

함수를 호출하고 값을 전달할 때, 매개변수에 이름을 명시해서 값을 전달할 수 있는 문법이 있다. 이를 선택적 이름 매개변수(named optional parameters) 라고 부른다. 이 방식을 사용하면, 각 인수가 어떤 의미를 가지는지 명확히 표현할 수 있어 코드의 가독성과 유지보수성이 크게 향상된다. 또한 값을 전달하지 않는 경우에는 기본값(default value)을 지정해 둘 수 있어 더 유연한 함수 구성이 가능하다.

```dart
//이름이 있는, 선택적 매개변수
void greetings({String? message}){ // 선택적 매개변수 : { } 를 사용한것에 집중
}

greetings(message : '안녕하세요');//호출시 message 라는 이름이 붙었다.
greetings(); //말그대로 선택적이기 때문에 호출시 아무값도 안 줘도 문제없다!
```

greetings()처럼 빈값으로 함수를 호출할 수 있는 이유는, 매개변수 타입을 String?처럼 nullable(널 허용)로 지정했기 때문이다. (호출 시 값을 전달하지 않으면, 해당 매개변수는 암시적으로 null로 초기화된다.) 필요하다면 아무 값도 전달하지 않았을 때 사용할 기본값을 정의할 수도 있다. 아래의 greetings() 함수는 호출할 때 인자를 넘기지 않았지만, 어찌된 일인지 함수 내부에서 print를 출력해보면 ‘안녕하세요’ 라는 값이 출력된다. 이는 매개변수 massege 에 대해 기본값 '안녕하세요'를 설정해 두었기 때문이다.

```dart
//이름이 있는, 선택적 매개변수
void greetings({String message = '안녕하세요'}){
	print(message); //매개변수로 아무값도 받지 않아도 기본값인 안녕하세요가 출력된다.
}

greetings(); //말그대로 선택적이기 때문에 호출시 아무값도 안줘도 된다.
```

**"너무 복잡한데 매개변수에 이름까지 붙여야 하나요?”**

충분히 이런생각을 할수 있다. 아래 예제를 보면 매개변수에 이름을 붙이는 것의 중요성을 쉽게 이해할 수 있을것이다.

```dart
// drawBox라는 간단한 함수 호출 예시
// 이 함수는 너비, 높이, 색상을 받고 출력하는 간단한 함수이다.
void drawBox(int width, int height, String color){
  print('너비: $width, 높이: $height, 색상: $color');
}

void main() {
  // 만약 이렇게 호출하면...
  drawBox(100, 200, 'red'); //각각의 인수가 무슨 의미로 전달되는지 호출부만 봐서는 전혀 알수없다.
}
```

이 호출부를 봤을 때는 100이 너비인지 높이인지, 200이 높이인지 너비인지, 'red'는 배경색인지 테두리색인지 전혀 알 수가 없다. 이런 경우는 오직 drawBox 함수의 선언부를 직접 열어봐야만 정확한 의미를 알 수 있게된다.

만약 매개변수 순서를 실수하기라도 한다면 어떻게 될까? 당연히 원래 의도했던 값과는 전혀 다른 결과가 나오게 된다.

>원래의도 → 너비: 100, 높이: 200
>실제실행결과 → 너비: 200, 높이: 100

그저 순서 하나 잘못 전달했을 뿐인데, 프로그램의 동작이 완전히 어긋나게 된다.

반면 이름이 있는 매개변수를 사용한다면 함수 호출 시 어떤 값이 어떤 역할을 하는지 명확히 알 수 있게된다.위에서 배운것처럼, 호출시 인수에 이름이 붙는 drawBox 함수는 다음과 같이 정의할 수 있다.

```dart
void drawBox({int? width, int? height, String? color}){
  print('너비: $width, 높이: $height, 색상: $color');
}

void main() {
  // 이름이 있는 매개변수로 호출
  drawBox(width: 100, height: 200, color: 'red');
}
```

이렇게 호출하면, 코드가 훨씬 명확해진다. 각 인수가 어떤역할을 하는지 한눈에 알아 볼수 있고, 순서를 실수할 일이 없기 때문에 오류를 방지하는 하나의 방법이 된다. 또한, 이름이 있기 때문에 순서에 상관없이 호출할수도 있다. 예를 들어, 아래와 같이 매개변수의 순서를 바꿔서 호출해도 문제가 없다.

```dart
// 순서 바꿔서 호출해도 문제 없음
drawBox(color: 'blue', height: 200, width: 100); // OK
```

각 매개변수에 이름이 붙어 있기 때문에, 값의 순서에 상관없이, 어떤 값이 무엇을 의미하는지 명확하게 알 수 있다. 따라서 이름이 있는 매개변수의 사용은 코드 가독성이 훨씬 좋아진다.

### AI와 함께 학습하세요
>Q. dart의 매개변수에 대해서 공부하고있어, 선택적 매개변수에 대해서 설명해줘.


### 추가로 알아둡시다!
**의미없는 초기화**<br>
선택적 매개변수를 작성할때 Nullable 변수를 굳이 null로 초기화하는 경우가 있다. 전형적인 의미없는 코드이며, 보이지 않지만 String?(Nullable) 타입은 값이 할당되지 않으면 자동으로 null로 초기화 된다.

```dart
void sayHello({String? name = null}) { //null로 초기화할 필요없다.
  print('너의 이름은 ? : $name');
  print('$name 님 안녕하세요.');
}
```

**선택적 명명 매개변수 + 필수화**<br>
이름이 있는, 선택적 매개변수를 작성할때도 호출시 강제 하도록 지정이 가능합니다. required 키워드를 사용하면, 비록 { } 안에 있는 선택적 명명 매개변수라도 호출시 반드시 값을 전달해야 하는 필수 파라미터로 정의된다. 이는 이름 있는 매개변수 + 필수성을 동시에 확보하는 방법이다.

```dart
void sayHello({required String message}) {// 이름이 있는 필수 매개변수로 정의
  print(message);
}
```

```dart
sayHello(message: "반드시 전달해야 함"); // 호출시 message 값을 반드시 전달 해야함.
```

이처럼 required 키워드를 붙이면, 이름을 명시하면서도 꼭 전달해야만 하는 필수 매개변수로 만들 수 있다. 가독성과 안정성을 높이기 위해 실무에서는 자주 사용된다.

---

### 선택적 위치기반 매개변수

Dart에서 선택적 위치기반 매개변수는 대괄호 [ ] 를 사용하여 선언합니다.

```dart
void error([String message = 'error']) { //'error' 기본값 지정
  print(message);
}

main(){
  error(); //전달 안할수도 있고
  error('found error'); //할수도 있다.
}
```

위 코드에서 message 매개변수는 선택적 이기 때문에 함수를 호출할 때 인자를 생략할 수 있고, 생략된 경우에는 기본값이 사용된다. 간단하게 사용할수 있지만 조금 주의가 필요하다.

매개변수가 하나일때는 아무 문제가 없다. 문제는 여러개의 인자를 전달할때 발생한다. 이름에 걸맞게 [ ]를 사용해서 선언한 매개변수는 반드시 해당 값을 반드시 순서대로 전달해야한다. 즉, 첫 번째, 두 번째, 세 번째 매개변수… 모두 순서에 맞게 정확히 값을 넘겨야 하는것이다. 이 방법은 단순하고 편리하지만, 순서를 실수할 우려가 있다. 이는 해당 코드의 의도가 흐려지거나 오류나 버그가 발생할 위험이 커진다. 따라서 실무에서는 주의해서 사용해야 한다.

```dart
void printUserInfo([ // 선택적 위치 매개변수
	String name = 'Anonymous', // 기본값 설정 
	int age = 0, 
	String city = 'Unknown'
]){
	  print('Name: $name, Age: $age, City: $city');
}

void main() {
  // 1) 모든 매개변수를 생략한다. (선택적)
  printUserInfo();

  // 2) 첫 번째 매개변수만 전달한다.
  printUserInfo('John');

  // 3) 첫 번째와 두 번째 매개변수를 전달한다.
  printUserInfo('Alice', 25);

  // 4) 모든 매개변수를 순서대로 전달한다.
  printUserInfo('Bob', 35, 'Seoul');
}
``` 

>**[팁&노트]**
기본적으로 이름 있는 명명 매개변수형태 '{}' 를 사용하는것이 좋다. 누가 봐도 명확하게 의미를 파악할 수 있는 코드가 훨씬 유지보수에 유리하기 때문이다.[^1]


## 심화학습
### 3가지 방법을 한번에 사용한다면<br>
Dart에서는 함수 정의 시 필수 매개변수, 선택적 위치 매개변수, 선택적 이름 매개변수를 함께 사용할 수 있다. 다소 복잡해 보일 수 있지만, 이를 통해 코드의 유연성을 높일 수 있으니, 잘 익혀두는 것이 좋다. 아래 예제를 통해 이 세 가지 매개변수를 함께 사용하는 방법을 알아보자.

```dart
void registerUser(
  String username,// 필수 매개변수
  [String role = 'user'],// 선택적 위치 매개변수
  {bool sendWelcomeEmail = true}// 선택적 이름 매개변수
) {
  print('Username: $username');
  print('Role: $role');
  print('Send Welcome Email: $sendWelcomeEmail');
}

void main() {
  registerUser('john');  
  registerUser('lisa', 'admin');  
  registerUser('mike', 'moderator', sendWelcomeEmail: false);  
}
```

- username은 반드시 전달해야 하는 필수 매개변수이다.
- role은 순서대로 전달하는 선택적 위치 매개변수이며, 기본값은 'user'이다.
- sendWelcomeEmail은 이름을 명시해서 전달하는 선택적 이름 매개변수이며, 기본값은 true이다.

**만약 전달해야할 값이 많아지면?**
처음에는 매개변수가 많아질수록 함수 기능이 더 유연해지는 것처럼 보일 수 있지만, 실제로는 코드의 복잡도와 실수 가능성을 높이는 주요 원인이 된다. 특히 함수 선언부가 너무 길어지거나, 각 매개변수의 의미가 명확하지 않을 경우, 코드의 가독성이 떨어지고, 디버깅도 어려워지며, 순서 실수로 인한 논리 오류도 쉽게 발생한다. 따라서 필요한 매개변수만 정의 하고, 항상 매개변수의 개수를 최소화하는 것이 좋다.

```dart
// 매개변수가 너무 많은 함수
void createUser(String name, int age, String email, bool isAdmin, String address, int zipCode, String phoneNumber) {
  print('Name: $name');
  print('Age: $age');
  print('Email: $email');
  print('Is Admin: $isAdmin');
  print('Address: $address');
  print('Zip Code: $zipCode');
  print('Phone: $phoneNumber');
}

void main() {
  // 순서 하나만 잘못 넣어도 전체 의미가 무너짐
  createUser('Kim', 30, 'kim@example.com', '010-1234-5678', true, 'Seoul', 12345); // 오류: 타입도 뒤섞이고, 값도 뒤바뀐다.
}
```

> **[팁&노트]** 
『클린 코드(Clean Code)』 에서는 “함수의 매개변수는 될 수 있으면 0~2개 이내로 제한하라” 고 권장하고있다.
매개변수가 많아지면 함수의 의도가 흐려지고, 호출하는 쪽에서 이해하기 어려워진다. (안타깝게도 이상적인 코드와 현실은 괴리가 있다. 실무에서는 여러가지 복합적인 상황과 환경이 코드에 고스란히 포함되어있기 때문이다.) [^2]

---

## Copilot 활용 실습

이번 실습에서는 Dart의 다양한 매개변수 형태를 비교해보며 직접 사용해보자. 각 함수는 필수, 선택적, 위치 기반, 이름 기반 매개변수로 구성되어 있으며, Copilot의 자동완성을 이용해 코드를 완성해보자.

```dart
// 1) 필수 매개변수
// 반드시 값을 전달해야 하는 매개변수를 선언
void greet(/* 여기에 매개변수 작성 */) {
  // print(...) 를 사용해 인사 메시지를 출력해보자.
}

// 2) 선택적 위치 매개변수 (Optional Positional)
// 대괄호 [ ] 를 사용하여 선택적 위치 매개변수를 선언
void greetWithAge(String name, [/* int age = 0 */]) {
  // 이름과 나이를 출력해보자.
  // print(...);
}

// 3) 선택적 이름 매개변수 (Optional Named)
// 중괄호 { }를 사용해 선택적 이름 매개변수를 선언하고 기본값도 설정한다.
void greetNamed({/* String name = '손님', int age = 0 */}) {
  // 이름과 나이를 출력해보자.
  // print(...);
}

// 4) 이름 있는 필수 매개변수 (Required Named)
// {required ...} 형태로 이름 있는 필수 매개변수를 선언
void greetRequired({/* required String name */}) {
  // 이름을 활용해 인사 메시지를 출력해보자.
  // print(...);
}

// 5) 필수 + 위치 + 이름 매개변수 조합하기
// 다양한 매개변수 문법을 조합해서 함수 하나를 완성해보자.
void registerUser(
  String username,                     // 필수 위치 매개변수
  [String role = 'user'],              // 선택적 위치 매개변수
  {bool sendWelcomeEmail = true}       // 선택적 이름 매개변수
) {
  print('Username: $username');
  print('Role: $role');
  print('Send Welcome Email: $sendWelcomeEmail');
}

void main() {
  // Copilot의 제안에 따라 함수들을 다양하게 호출해보세요.
  // greet(...);
  // greetWithAge(...);
  // greetNamed(...);
  // greetRequired(...);
  // registerUser(...);
}
```


---
[^1] Functions - Dart Language Tour https://dart.dev/language/functions#named-parameters
[^2] Robert C. Martin (aka Uncle Bob) -  Clean Code