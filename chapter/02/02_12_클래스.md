# 하나의 새로운 타입을 만들다, 클래스




![클래스](../../images/02_11_클래스.png)



>“설계 없이는 집을 지을 수 없다. 코드도 마찬가지다.” — 스티브 맥코넬, 『Code Complete』


class는 말 그대로 하나의 부류, 종류, 그룹을 정의하는 키워드이다. 우리가 살고 있는 현실 세계를 한번 생각해보자. 자동차, 사람, 고양이, 물건, 영상, 책 등…  수많은 종류의 ‘것’ = Object 가 존재한다. 이런 다양한 현실의 존재들을 프로그래밍 세계에서 표현하기 위해 우리는 클래스(class) 라는 개념을 사용한다. 그럼 실제 클래스를 어떻게 정의하고 사용하는지 함께 살펴보자.

의외로 클래스를 정의하는 방법은 굉장히 쉽다. 우선 class 라는 키워드와 클래스의 이름이 필요하다. 클래스의 이름은 사물이나 대상을 지칭하는 ‘명사’ 형태로 작성해야 한다.(예: Car, Person, Animal 등) 

```dart
class Car{ // 자동차 클래스
}
```

자동차, 사람, 동물... class를 이용하면 현실 세계에 존재하는 수많은 것들을 프로그램안에서 표현할수 있게된다. 

```dart
class Person{ // 사람 클래스
}
```

```dart
class Animal{ // 동물 클래스
}
```

>**[팁&노트]**
클래스 이름은 보통 '명사' 형태로 짓고, 메서드 이름은 '동사'나 동사구로 작성하는 것이 관례이다. 이름만 봐도 역할이 드러나도록 작성하는 것이 코드의 가독성과 이해도를 높이는 데 도움이 된다. [^1]


계속해서 살펴보자. 예를 들어, 우리가 커피머신을 하나 만든다고 가정해 보자. 잠시 생각해보면 커피머신은 “버튼을 누르면 커피가 나오는 기능”을 갖고 있고, “모델명”, “물의 양”, “잔여 커피량” 같은 속성을 가질 수 있다.

```dart
class CoffeeMachine { // 커피머신 클래스

  // 속성(상태)은 변수로 정의합니다.
  String model = 'CM-101';       // 모델명
  int waterAmount = 1000;        // 물의 양 (ml)

  // 기능(행동)은 메서드로 정의합니다.
  void makeCoffee() {
    if (waterAmount >= 200) {
      waterAmount -= 200;
      print('커피가 나옵니다');
    } else {
      print('물이 부족합니다');
    }
  }
}
```

이 코드에서 CoffeeMachine은 하나의 클래스이고, 하나의 클래스는 곧 하나의 타입이 된다. 여기에는 model, waterAmount 같은 속성(변수)과
makeCoffee()라는 기능(메서드)가 정의되어 있다. 클래스는 이렇게 속성과 기능을 묶어서 하나의 타입으로 정의하는 것이다. 

>**[팁&노트]**
Dart는 객체지향 프로그래밍(OOP)과 함수형 프로그래밍 두 가지 패러다임을 모두 지원하는 언어이다. 이 두 가지는 각기 다른 철학과 스타일을 갖고 있지만, Dart에서는 필요에 따라 유연하게 선택해 사용할 수 있다. 이 책에서는 실무에서 가장 많이 사용되고, 접하기 쉬운 객체지향적인 관점으로 이야기를 풀어내고 있다.

### 실체를 만들어내는 방법
안타깝지만 class를 작성하는것 만으로는 아무일도 할수없다. class는 사실 실체(instance)를 찍어내기 위한 하나의 틀에 불과하다. 이것을 설계도 라고 설명하기도하고 제품을 찍어내기 위한 일종의 틀이라고 이야기 하기도 한다. 따라서 실체를 만들어내기 위해서는 ‘생성자’ 라는 특수한 함수를 호출해야 한다.

```dart
void main() {
  CoffeeMachine myMachine = CoffeeMachine(); // 객체 생성 : 생성자 호출
  myMachine.makeCoffee(); // 그리고 나서 메서드 호출할수 있다.
  print('남은 물의 양: ${myMachine.waterAmount}ml'); // 잔여 물의 양 출력
}
```

위 코드에서 CoffeeMachine()가 바로 생성자 함수 이다. 이 생성자 함수는 우리가 만들지 않더라도 존재하는 특수한 함수 이다. 클래스명으로 된 이 생성자를 호출함으로써, 드디어 myMachine는 하나의 객체(실체)가 된다.(처음에는 잘 이해가 안될수 있기에, 클래스를 사용하기 위한 준비단계라고 생각해도 좋다.)


### AI와 함께 학습하세요
>Q. Dart를 공부하는 중인데, 클래스와 객체의 관계에 대해서 초보자를 대상으로 비유를 들어서 쉽게 설명해줘.


---
## **심화학습**
**객체(Object)**

객체(Object)는 세상에 존재하는 그 무언가라고 생각하시면 된다. 우리가 눈으로 보고, 손으로 만질 수 있는 물건들, 만질수 없지만 실체가 있는 무언가, 자동차, 스마트폰, 사람, 강아지 같은 모든것이 객체의 대상이 될 수 있다. 이 모든것들을 프로그램상에 구현해내는 것이 (객체지향적인 관점에서) 우리의 일과중 하나가 될것이다. 우리는 객체를 표현하기 위해 class라는 일종의 틀을 만들고, 그안에 객체의 ‘상태’와 ‘행동’ 을 정의한다.

**상태(State)**

상태란 무엇일까요? 쉽게 말해 “지금은 어떤 상황인가?” 를 나타내는 정보이다. 예를 들어 자동차를 떠올려보자, 여기 빨간 색의 멋진 스포츠카가 한대 있다. 또한 이 자동차는 빠르게 도로위를 달리고 있다.

잠시 생각해보면 아래의 목록을 정의할수 있을것이다.

- 이 차의 컬러는 무엇인가요?
- 현재 속도는?
- 문이 잠겨 있나?
- 창문이 열려있나?
- 타이어의 공기압은?
- 엔진오일의 온도는?

이 모든 정보가 바로 그 자동차의 상태가 된다. 프로그래밍에서는 이 상태들을 변수(variable)에 저장한다.

```dart
class Car {// 자동차 클래스
  String color = 'red';// 상태 1: 색깔
  int speed = 0;// 상태 2: 속도
}
```

**행동(Behavior)**
행동이란 “이 객체가 무엇을 할 수 있는가?” 에 대한 답변이다. 다시 자동차로 돌아가보자. 자동차는 어떤 행동(동작)들이 가능 할까?

- 출발하다 (drive)
- 멈추다 (stop)
- 방향을 바꾸다 (turn)
- 라이트를 켜다 (on)

바로 이런 것들이 자동차의 행동에 해당한다. 프로그래밍에서는 함수 또는 메서드를 통해 이 행동들을 표현할수 있다.

```dart
class Car { // 자동차 클래스
  String color = 'red'; // 상태: 색깔
  int speed = 0; // 상태: 속도

  void drive() { // 행동: 출발하다
    speed += 10;
    print('운전 중! 현재 속도: $speed');
  }

  void stop() { // 행동: 멈추다
    speed = 0;
    print('정지했습니다.');
  }
}
```

**상태와 행동의 조화**
다시 상상력을 발휘하여, 상태만 있는 자동차를 상상해 보자. 색깔이 빨강이고, 속도는 0이다. 움직이지도 않고, 아무런 행동도 하지 않는 상태이다. 마치 전시용 모형과 다르지 않다. 반대로, 행동만 있는 자동차는 어떨까? 달릴 수는 있지만, 자신의 색깔도 없고 속도도 모른다. 창문이 열렸는지, 시동이 걸렸는지 정보가 전혀 없다. 기능은 있지만 제 역할을 못하는 반쪽짜리 자동차이다. 이처럼 상태와 행동은 클래스 안에서 한 쌍처럼 존재해야 한다. 객체지향 프로그래밍은 이 두 가지를 코드 안에 함께 녹여내어 현실세계의 '대상' 을 흉내내고, 문제를 해결하는 방식인 것이다.

### AI와 함께 학습하세요
>Q. dart를 공부하는 중인데 객체지향적 프로그래밍 방식에 대해서 초보자를 대상으로 쉽게 설명해줘.

---

## 추가로 알아두세요!
### Static
앞에서 변수선언과 클래스에 대해서 배웠다. 클래스 내부에 선언하는 변수는 인스턴스변수, 멤버변수, 필드, 전역변수 등으로 혼용되어 불리운다. 이번에는 또 다른 한가지 변수를 선언하는 방법을 배워보자. 아래는 static 키워드를 활용하는 예제이다.

```dart
class Car {
	static int totalDistance = 0;
}
```

static 키워드로 작성된 변수는 일종의 공유 변수가 된다. 예를 들어 프로그램상의 어디서든 해당 변수에 접근해야 할때 유용하다.

```dart
main(){
  Car.totalDistance += 10;
  //Car() 이와 같은 객체 생성 구문이 필요없다.
}
```

Car 클래스와 전혀 다른 main 함수 안에서 해당 변수에 접근할수 있다. 그런데 자세히 보면 특이한점이 있다. 바로 Car 내부의 변수를 사용하고 있음에도, 생성자를 쓰지 않았다는 것이다. 즉 static 키워드로 작성된 변수나 함수등은 일반적인 생성자를 통해 객체생성을 하지 않고도 사용할수 있는 것이다.

```dart
class Utils {
  static int add(int x, int y) {
    return x + y;
  }
}
```

함수도 마찬가지이다. 이렇게 작성된 static 함수는 호출시에 객체 생성을 하지 않고도 필요한 기능을 실행할수 있게 된다. 

```dart
void main() {
  print(Utils.add(5, 6)); //굉장히 편리하게 함수를 사용할수 있다.
}
```

### AI와 함께 학습하세요
>Q. dart를 공부하는 중인데, static 키워드의 활용에 대해서 다양한 예제를 제공해줘.

---

## Copilot 활용 실습

이어서 커피머신의 기능을 개선해보자. 커피머신은 "모델명", "물의 양"이라는 상태(state)를 가지고 있으며, "커피를 내리는" 행동(behavior)을 수행할 수 있어야 한다. Copilot의 도움을 받아 아래 클래스를 완성해보자.


```dart
// CoffeeMachine 클래스를 정의하세요.
// 상태: 모델명(model), 물의 양(waterAmount) 변수 정의
// 행동: makeCoffee() 함수 정의

class CoffeeMachine {
  // 1) 여기에 상태 변수들을 작성
  // String model = ...;
  // int waterAmount = ...;

  // 2) 커피를 만드는 메서드 작성
  void makeCoffee() {
    // waterAmount가 200 이상이면, 물을 덜어내고(물의 양 마이너스)
    // 150 이상이면 "커피가 나옵니다" 출력한다.
    // if (waterAmount > 200) {
    //  //...
    // }else if (waterAmount > 150) {
    // // ...
    // } else {
    //  print('물이 부족합니다');
    // }
  }

}

// main 함수에서 CoffeeMachine 객체를 생성하고, makeCoffee() 메서드를 호출해보세요.
void main() {
  // CoffeeMachine 객체를 생성하세요.
  // CoffeeMachine myMachine = ...;

  // 메서드 호출 및 잔여 물 출력
  // myMachine.makeCoffee();
  // print(...);
}
```

---

[^1] Robert C. Martin, 『클린 코드』, 인사이트, 2013