# 선을 지키자, 접근 제어(Access Modifier)



![접근제어](../../images/02_15_선.png)


>“모든 것은 객체다. 객체는 세상의 축소판이다.” — 앨런 케이


어디서 무엇을하든, “규칙을 지키는것” 은 굉장히 중요한 일이다. 사실 프로그래밍에서는 무언가를 하는 것보다, 무언가를 하지 말아야 하는지가 더 중요한 포인트이다. 만약 타 언어에 익숙하다면, public, private 같은 접근지정자 키워드가 익숙할 것이다.

```java
public void main(){ // java의 public 접근제어 키워드
	//...
}

private class Car{ // java의 private 접근제어 키워드
	//...
}
```

언어마다 의미상의 작은 차이는 있지만, public은 어디서든 활용하도록 오픈되어있다는 의미이다. private은 반대로 지키고자 하는것을 작성할때 쓰는 키워드이다. 그런데 dart의 경우 특이하게도 public, private 같은 접근 제어 키워드가 없다.

**“그럼 Dart에서는 어떻게 접근을 통제할 수 있을까?”** 

```dart
void main(){
	// 프로그램 진입점
}

class _Car{
	// 언더스코어(_)를 붙이면 비공개 클래스가 됩니다.
}

```

Dart에서는 기본적으로 모든 클래스, 함수, 변수는 공개(public) 상태이다. 따라서 특별한 키워드를 붙이지 않으면 어디서든 접근할 수 있다. 만약 접근을 통제하고 싶을 때는 단 하나, “언더스코어 _” 를 이름 앞에 붙이는 방식만 사용하면 된다. 클래스, 함수, 변수 이름 앞에 _를 붙이면 해당 요소는 같은 라이브러리(파일) 안에서만 접근할 수 있고, 파일 밖에서는 접근할 수 없게된다. 

```dart
// person.dart 파일
class Person {
  String name = '홍길동'; // 공개 변수
  int _age = 30; // 비공개 변수

  void sayHello() { // 공개 메서드
    print('안녕하세요, $name 입니다.');
  }

  void _secret() { // 비공개 메서드
    print('이건 비공개 메서드입니다. 밖에서는 볼 수 없어요.');
  }
}
```

처음에는 "대체 뭔 차이가 있지?" 라고 생각 하겠지만, 위 코드에서 name은 공개(public) 변수이고, _age와 _secret()은 비공개(private) 변수 및 메서드이다. 비공개로 선언된 요소들은 파일 외부에서 직접 접근할 수 없게 된다. (쉽게말해, 다른곳에서 호출할 수 없다.)

```dart
// main.dart 파일 -> 다른 파일 기준에서 사용/호출
import 'person.dart'; //현재 파일에서, 타 파일을 사용하려면 import 해야한다.

void main() {
  var person = Person();

  print(person.name);// 공개 변수 접근 가능
  person.sayHello();// 공개 메서드 호출 가능

  print(person._age);// 오류! 비공개 변수에 접근 불가
  person._secret();// 오류! 비공개 메서드 호출 불가
}
```

그런데 Dart에서는 비공개(private) 제어가 "클래스 단위" 가 아니라 “라이브러리 단위(보통 하나의 파일)“ 로 작동한다. 만약 같은 파일 안에 클래스가 여럿 있고, 특정 변수나 메서드에 _가 붙어 있더라도, 파일 안에서는 자유롭게 접근할 수 있다. 다른 파일, 다른 라이브러리 로 분리되었을 때만 _로 시작하는 요소에 접근이 차단된다. 이는 Java나 C++처럼 클래스 레벨로 접근 제어를 구분하는 다른 언어들과 대조적인 특징이다.


### AI와 함께 학습하세요
>Q. 타 언어에 비해 dart의 접근제어 방식은 너무 간단하고, 부족한것 처럼 보이는데, 왜 이렇게 만든것인가?

---


## Copilot 활용 실습

특이하게도 Dart는 public, private 같은 키워드가 없다. 대신 이름 앞에 언더스코어(_)를 붙이면 해당 요소는 비공개(private)로 처리 된다. 각각의 코드별로 파일을 따로 만들고, 예제를 따라가며, 공개/비공개 변수 및 메서드의 차이를 직접 확인해보자.

```dart
// person.dart
// 사람(Person) 클래스를 정의해보자.
class Person {
  // 1) 공개 변수 name과 비공개 변수 _age를 선언
  String name = '홍길동';

  // 2) 비공개 변수(int 타입) _age 를 선언
  //...

  // 3) 공개 메서드 sayHello를 작성
  void sayHello() {
    //print('안녕하세요, $name 입니다.');
  }

  // 4) 비공개 메서드 _secret을 작성해본다.
  void _secret() {
    print('이건 비공개 메서드입니다.');
  }
}
```

```dart
// main.dart
import 'person.dart';
void main() {
  // Person 인스턴스를 생성하세요.
  var person = Person();

  // 공개된 요소는 정상적으로 접근 가능
  print(person.name); // 가능
  person.sayHello(); // 가능

  // 비공개 요소에 접근해보고 결과를 확인한다.
  //...

}
```